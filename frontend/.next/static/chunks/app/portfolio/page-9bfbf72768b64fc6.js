(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[444],{5724:function(e,t,r){Promise.resolve().then(r.bind(r,856))},9306:function(e,t,r){"use strict";r.d(t,{Hd:function(){return s},xp:function(){return n}});let a=r(3464).Z.create({baseURL:"http://localhost:8000"});async function s(e,t){let r=new URLSearchParams;r.append("configName",e),Object.entries(t).forEach(e=>{let[t,a]=e;null!=a&&""!==a&&r.append(t,a)});try{return(await a.get("/trades?".concat(r.toString()))).data}catch(e){throw console.error("Error fetching trades:",e),Error("Failed to fetch trades")}}async function n(e,t){let r=new URLSearchParams;r.append("configName",e),Object.entries(t).forEach(e=>{let[t,a]=e;null!=a&&""!==a&&r.append(t,a)});let s=await a.get("/portfolio?".concat(r.toString()));if(200!==s.status)throw Error("Failed to fetch portfolio");return s.data}},856:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var a=r(7437),s=r(2265),n=r(2135),l=r(875),i=r(8842),c=r(3804),o=r(2381),d=r(9820);let x=e=>{let{value:t,decimals:r=2}=e,s=t.toFixed(r);return(0,a.jsx)("span",{className:t>=0?"text-green-500":"text-red-500",children:s})};function u(e){let{portfolio:t}=e,[r,u]=(0,s.useState)("oneliner"),[f,h]=(0,s.useState)("asc"),p=e=>{e===r?h("asc"===f?"desc":"asc"):(u(e),h("asc"))},m=[...t].sort((e,t)=>{var a,s;let n=null!==(a=e.trade[r])&&void 0!==a?a:"",l=null!==(s=t.trade[r])&&void 0!==s?s:"";return n<l?"asc"===f?-1:1:n>l?"asc"===f?1:-1:0});return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Portfolio"}),(0,a.jsx)(d.Zb,{children:(0,a.jsx)(d.aY,{children:(0,a.jsxs)(c.iA,{children:[(0,a.jsx)(c.xD,{children:(0,a.jsxs)(c.SC,{children:[(0,a.jsx)(c.ss,{className:"text-center whitespace-nowrap",children:(0,a.jsxs)(o.z,{variant:"ghost",onClick:()=>p("oneliner"),children:["Trade ","oneliner"===r?"asc"===f?(0,a.jsx)(n.Z,{className:"w-4 h-4 ml-1"}):(0,a.jsx)(l.Z,{className:"w-4 h-4 ml-1"}):(0,a.jsx)(i.Z,{className:"w-4 h-4 ml-1"})]})}),(0,a.jsx)(c.ss,{className:"text-center whitespace-nowrap",children:(0,a.jsx)(o.z,{variant:"ghost",children:"Expiration"})}),(0,a.jsx)(c.ss,{className:"text-center whitespace-nowrap",children:(0,a.jsx)(o.z,{variant:"ghost",children:"Type"})}),(0,a.jsx)(c.ss,{className:"text-center whitespace-nowrap",children:(0,a.jsx)(o.z,{variant:"ghost",children:"Avg Price"})}),(0,a.jsx)(c.ss,{className:"text-center whitespace-nowrap",children:(0,a.jsx)(o.z,{variant:"ghost",children:"Size"})}),(0,a.jsx)(c.ss,{className:"text-center whitespace-nowrap",children:(0,a.jsx)(o.z,{variant:"ghost",children:"Avg Exit"})}),(0,a.jsx)(c.ss,{className:"text-center whitespace-nowrap",children:(0,a.jsx)(o.z,{variant:"ghost",children:"Pct Change"})}),(0,a.jsx)(c.ss,{className:"text-center whitespace-nowrap",children:(0,a.jsx)(o.z,{variant:"ghost",children:"Unit P/L"})}),(0,a.jsx)(c.ss,{className:"text-center whitespace-nowrap",children:(0,a.jsx)(o.z,{variant:"ghost",children:"Realized P/L"})})]})}),(0,a.jsx)(c.RM,{children:m.map((e,t)=>(0,a.jsxs)(c.SC,{children:[(0,a.jsx)(c.pj,{className:"text-center whitespace-nowrap",children:e.oneliner}),(0,a.jsx)(c.pj,{className:"text-center whitespace-nowrap",children:e.trade.expiration_date?new Date(e.trade.expiration_date).toLocaleDateString():"N/A"}),(0,a.jsx)(c.pj,{className:"text-center whitespace-nowrap",children:e.trade.trade_type}),(0,a.jsxs)(c.pj,{className:"text-center whitespace-nowrap",children:["$",(0,a.jsx)(x,{value:e.avg_entry_price})]}),(0,a.jsx)(c.pj,{className:"text-center whitespace-nowrap",children:e.realized_size}),(0,a.jsxs)(c.pj,{className:"text-center whitespace-nowrap",children:["$",(0,a.jsx)(x,{value:e.avg_exit_price})]}),(0,a.jsxs)(c.pj,{className:"text-center whitespace-nowrap",children:[(0,a.jsx)(x,{value:e.pct_change}),"%"]}),(0,a.jsxs)(c.pj,{className:"text-center whitespace-nowrap",children:["$",(0,a.jsx)(x,{value:e.realized_pl/e.realized_size})]}),(0,a.jsxs)(c.pj,{className:"text-center whitespace-nowrap",children:["$",(0,a.jsx)(x,{value:e.realized_pl})]})]},t))})]})})})]})}function f(e){let{portfolio:t}=e,r=t.reduce((e,t)=>e+t.realized_pl,0),s=t.length,n=t.filter(e=>e.realized_pl>0).length,l=s>0?n/s*100:0;return(0,a.jsxs)("div",{className:"bg-white border border-gray-300 p-4 rounded shadow-sm",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Reports"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 bg-gray-100 rounded",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"Total Profit/Loss"}),(0,a.jsxs)("p",{className:"text-2xl font-bold ".concat(r>=0?"text-green-600":"text-red-600"),children:["$",r.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-100 rounded",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"Closed Trades"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:s})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-100 rounded",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"Win Rate"}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[l.toFixed(2),"%"]})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"This area will contain more detailed graphs and reports based on the trading data."})})]})]})}var h=r(4869),p=r(5871),m=r(9306),g=r(279);function j(){let[e,t]=(0,s.useState)("day_trader"),[r,n]=(0,s.useState)(!0),[l,i]=(0,s.useState)([]),[c,d]=(0,s.useState)(!0),[x,j]=(0,s.useState)(()=>{let e=new Date;return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())).toISOString().split("T")[0]});return(0,s.useEffect)(()=>{(async()=>{d(!0);try{let t=await (0,m.xp)(e,{weekFilter:x});i(t)}catch(e){console.error("Error fetching portfolio:",e)}finally{d(!1)}})()},[e,x]),(0,a.jsxs)("div",{id:"portfolio-page",className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Blue Deer Trading Dashboard"}),(0,a.jsxs)(o.z,{onClick:()=>{n(e=>!e)},variant:"outline",children:[r?(0,a.jsx)(h.Z,{className:"w-4 h-4 mr-2"}):(0,a.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),r?"Hide Reports":"Show Reports"]})]}),(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,a.jsxs)("div",{className:"lg:".concat(r?"w-2/3":"w-full"),children:[(0,a.jsxs)("div",{className:"mb-4 flex flex-wrap gap-4 items-center",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"trade-group",children:"Select Trade Group"}),(0,a.jsxs)("select",{id:"trade-group-selector",value:e,onChange:e=>t(e.target.value),className:"border p-2 rounded",children:[(0,a.jsx)("option",{value:"day_trader",children:"Day Trader"}),(0,a.jsx)("option",{value:"swing_trader",children:"Swing Trader"}),(0,a.jsx)("option",{value:"long_term_trader",children:"Long Term Trader"})]}),(0,a.jsx)(g.I,{type:"date",value:x,onChange:e=>{j(e.target.value)},className:"ml-4"})]}),c?(0,a.jsx)("p",{children:"Loading portfolio..."}):(0,a.jsx)(u,{portfolio:l})]}),r&&(0,a.jsx)("div",{className:"lg:w-1/3",children:(0,a.jsx)(f,{portfolio:l})})]})]})}},2381:function(e,t,r){"use strict";r.d(t,{z:function(){return o}});var a=r(7437),s=r(2265),n=r(7053),l=r(7712),i=r(3448);let c=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,t)=>{let{className:r,variant:s,size:l,asChild:o=!1,...d}=e,x=o?n.g7:"button";return(0,a.jsx)(x,{className:(0,i.cn)(c({variant:s,size:l,className:r})),ref:t,...d})});o.displayName="Button"},9820:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},Zb:function(){return l},aY:function(){return o},ll:function(){return c}});var a=r(7437),s=r(2265),n=r(3448);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...s})});l.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});i.displayName="CardHeader";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",r),...s})});c.displayName="CardTitle",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})}).displayName="CardDescription";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});o.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},279:function(e,t,r){"use strict";r.d(t,{I:function(){return l}});var a=r(7437),s=r(2265),n=r(3448);let l=s.forwardRef((e,t)=>{let{className:r,type:s,...l}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...l})});l.displayName="Input"},3804:function(e,t,r){"use strict";r.d(t,{RM:function(){return c},SC:function(){return o},iA:function(){return l},pj:function(){return x},ss:function(){return d},xD:function(){return i}});var a=r(7437),s=r(2265),n=r(3448);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",r),...s})})});l.displayName="Table";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",r),...s})});i.displayName="TableHeader";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",r),...s})});c.displayName="TableBody",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...s})}).displayName="TableFooter";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...s})});o.displayName="TableRow";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("th",{ref:t,className:(0,n.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...s})});d.displayName="TableHead";let x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("td",{ref:t,className:(0,n.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...s})});x.displayName="TableCell",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",r),...s})}).displayName="TableCaption"},3448:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(1994),s=r(3335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}}},function(e){e.O(0,[73,594,971,117,744],function(){return e(e.s=5724)}),_N_E=e.O()}]);